{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenido a mis practicas","text":"<p>Este es un blog para mostrar mis practicas a Jose Juan</p> <p></p>"},{"location":"1-1/","title":"Instalacion pila LAMP","text":"<p>LAMP es el acr\u00f3nimo usado para describir un sistema de infraestructura de Internet que usa las siguientes herramientas:</p> <ul> <li>Linux (Sistema Operativo)</li> <li>Apache (Servidor Web)</li> <li>MySQL/MariaDB (Sistema Gestor de Bases de Datos)</li> <li>PHP (Lenguaje de programaci\u00f3n)</li> </ul> <p>Gracias a aws tenemos una maquina ubuntu en la que trabajar por lo que la parte de linux ya esta cubierta. Por eso estaremos trabajando en consola de linux.</p>"},{"location":"1-1/#instalacion-aplicaciones","title":"Instalacion Aplicaciones","text":"<p>Siempre que vayamos a instalar algo tenemos que actualizar los paquetes</p>"},{"location":"1-1/#actualizamos-los-paquetes","title":"Actualizamos los paquetes","text":"<pre><code>apt update\n</code></pre>"},{"location":"1-1/#actualizamos-aplicaciones","title":"Actualizamos aplicaciones","text":"<pre><code>apt upgrade -y\n</code></pre>"},{"location":"1-1/#instalar-apache","title":"Instalar Apache","text":"<p>Comando de instalacion Apache <code>-y</code> para que no te pida confirmacion.</p> <pre><code>apt install apache2 -y\n</code></pre>"},{"location":"1-1/#instalar-mysql","title":"Instalar MySQL","text":"<p>Comando de instalacion MySQL <code>-y</code> para que no te pida confirmacion. </p> <pre><code>apt install mysql-server -y\n</code></pre>"},{"location":"1-1/#instalar-php","title":"Instalar PhP","text":"<p>Comando de instalacion de php y los modulos necesarios para conectarlo con Apache y MySQL, el <code>-y</code> para que no te pida confirmacion.  </p> <pre><code>apt install php libapache2-mod-php php-mysql -y\n</code></pre>"},{"location":"1-1/#copiar-archivo-de-conf","title":"Copiar archivo de conf","text":"<p>Con esto conseguimos que Apache tenga la configuracion que tenemos en el repositorio.  </p> <pre><code>cp ../conf/000-default.conf /etc/apache2/sites-available\n</code></pre> <p>En la con figuracion tenemos varias cosas interesantes <code>ServerSignature</code> y <code>ServerTokens</code> sirve para que no salga la version de Apache ni en la cabezera ni al final de la practica.<code>DirectoryIndex</code> elegimos el orden en el que Apache va a elegir los index.</p> <pre><code>ServerSignature off\nServerTokens Prod\n\n&lt;VirtualHost *:80&gt;\n    #ServerName www.example.com\n    DocumentRoot /var/www/html\n    DirectoryIndex index.php index.html\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n  &lt;/VirtualHost&gt;\n  ```\n## Copiar index\nNuestro index.php pasa a estar en la carpeta donde apache mira su html.\n</code></pre> <p>cp ../php/index.php /var/www/html</p> <pre><code>## Modificar  propietario de /var/www/html al de apache\nEste comando es necesario para que apache funcione correctamente. `www-data` es el usuario de apache y le damos el propietario de la carpeta donde estan nuestros html.\n</code></pre> <p>chown -R www-data:www-data /var/www/html ``` </p>"},{"location":"1-2/","title":"Practica_1.2","text":""},{"location":"1-2/#instalacion-pila-lamp","title":"Instalacion pila LAMP","text":"<p>LAMP es el acr\u00f3nimo usado para describir un sistema de infraestructura de Internet que usa las siguientes herramientas:</p> <ul> <li>Linux (Sistema Operativo)</li> <li>Apache (Servidor Web)</li> <li>MySQL/MariaDB (Sistema Gestor de Bases de Datos)</li> <li>PHP (Lenguaje de programaci\u00f3n)</li> </ul> <p>Gracias a aws tenemos una maquina RedHat en la que trabajar por lo que la parte de linux ya esta cubierta. Por eso estaremos trabajando en consola de linux. </p>"},{"location":"1-2/#instalacion-aplicaciones","title":"Instalacion Aplicaciones","text":"<p>Siempre que vayamos a instalar algo tenemos que actualizar los paquetes</p>"},{"location":"1-2/#actualizamos-los-paquetes","title":"Actualizamos los paquetes","text":"<pre><code>dnf update -y\n</code></pre>"},{"location":"1-2/#instalar-apache","title":"Instalar Apache","text":"<p>Comando de instalacion Apache <code>-y</code> para que no te pida confirmacion.</p> <pre><code>dnf install httpd -y\n</code></pre>"},{"location":"1-2/#iniciamos-el-servicio-apache","title":"Iniciamos el servicio apache","text":"<pre><code>systemctl start httpd\n</code></pre>"},{"location":"1-2/#configuramos-para-que-el-servicio-inicie-automaticamente","title":"Configuramos para que el servicio inicie automaticamente","text":"<pre><code>systemctl enable httpd\n</code></pre>"},{"location":"1-2/#instalar-mysql","title":"Instalar MySQL","text":"<p>Comando de instalacion MySQL <code>-y</code> para que no te pida confirmacion. </p> <pre><code>dnf install mysql-server -y\n</code></pre>"},{"location":"1-2/#iniciamos-el-servicio-sql","title":"Iniciamos el servicio sql","text":"<pre><code>systemctl start mysqld\n</code></pre>"},{"location":"1-2/#configuramos-para-que-el-servicio-inicie-automaticamente_1","title":"Configuramos para que el servicio inicie automaticamente","text":"<pre><code>systemctl enable mysqld\n</code></pre>"},{"location":"1-2/#instalar-php","title":"Instalar PhP","text":"<p>Comando de instalacion de php, el <code>-y</code> para que no te pida confirmacion.  </p> <pre><code>sudo dnf install php -y\n</code></pre>"},{"location":"1-2/#instalamos-extension-para-mysql","title":"Instalamos extension para mysql","text":"<pre><code>sudo dnf install php-mysqlnd -y\n</code></pre>"},{"location":"1-2/#reiniciamos-el-servicio-apache","title":"Reiniciamos el servicio apache","text":"<pre><code>sudo systemctl restart httpd\n</code></pre>"},{"location":"1-2/#copiar-info","title":"Copiar info","text":"<p>Nuestro info.php pasa a estar en la carpeta donde apache mira su html.</p> <pre><code>cp ../php/info.php /var/www/html\n</code></pre>"},{"location":"1-2/#modificar-propietario-de-varwwwhtml-al-de-apache","title":"Modificar  propietario de /var/www/html al de apache","text":"<p>Este comando es necesario para que apache funcione correctamente. <code>www-data</code> es el usuario de apache y le damos el propietario de la carpeta donde estan nuestros html.</p> <pre><code>chown -R www-data:www-data /var/www/html\n</code></pre>"},{"location":"1-2/#instalacion-de-tools","title":"Instalacion de Tools","text":"<p>Para que los servicios funcionen correctamente en RedHat tendremos que instalar una serie de herramientas </p>"},{"location":"1-2/#actualizar-paquetes","title":"Actualizar paquetes","text":"<pre><code>dnf update -y\n</code></pre>"},{"location":"1-2/#instalamos-modulos-php-necesarios-para-phpmyadmin","title":"Instalamos modulos php necesarios para phpmyadmin","text":"<pre><code>dnf install php-mbstring php-zip php-json php-gd php-fpm php-xml -y\n</code></pre>"},{"location":"1-2/#reiniciamos-servicio-apache","title":"Reiniciamos servicio apache","text":"<pre><code>systemctl restart httpd\n</code></pre>"},{"location":"1-2/#instalamos-la-utilidad-wget","title":"Instalamos la utilidad wget","text":"<pre><code>dnf install wget -y\n</code></pre>"},{"location":"1-2/#eliminamos-descargas-previas","title":"Eliminamos descargas previas","text":"<p>Esto hara que no se nos acumulen descargas si utilizamos el script varias veces.</p> <pre><code>rm -rf /tmp/phpMyAdmin-latest-all-languages.zip\nrm -rf /var/www/html/phpmyadmin\n</code></pre>"},{"location":"1-2/#descargamos-el-codigo-fuente-de-phpmyadmin","title":"Descargamos el codigo fuente de phpmyadmin","text":"<pre><code>wget https://files.phpmyadmin.net/phpMyAdmin/5.2.1/phpMyAdmin-5.2.1-all-languages.zip -P /tmp\n</code></pre>"},{"location":"1-2/#instalamos-la-utilidad-unzip","title":"Instalamos la utilidad unzip","text":"<pre><code>dnf install unzip -y\n</code></pre>"},{"location":"1-2/#descomprimimos-el-codigo-fuente-de-phpmyadmin-en-varwwwhtml","title":"Descomprimimos el codigo fuente de phpMyadmin en /var/www/html","text":"<pre><code>unzip -u /tmp/phpMyAdmin-5.2.1-all-languages.zip -d /var/www/html\n</code></pre>"},{"location":"1-2/#renombramos-el-directorio","title":"Renombramos el directorio","text":"<pre><code>mv /var/www/html/phpMyAdmin-5.2.1-all-languages /var/www/html/phpmyadmin\n</code></pre>"},{"location":"1-2/#cambiamos-propietario-y-el-grupo-a-varwwwhtml","title":"Cambiamos propietario y el grupo a /var/www/html","text":"<pre><code>chown -R apache:apache /var/www/html\n</code></pre>"},{"location":"1-2/#creamos-archivo-de-configuracion-a-partir-de-el-de-ejemplo","title":"Creamos archivo de configuracion a partir de el de ejemplo","text":"<pre><code>cp /var/www/html/phpmyadmin/config.sample.inc.php /var/www/html/phpmyadmin/config.inc.php\n</code></pre>"},{"location":"1-2/#generamos-un-valor-aleatorio-de-32-caracteres-para-la-variable-blowfish_secret","title":"Generamos un valor aleatorio de 32 caracteres para la variable blowfish_secret","text":"<pre><code>RANDOM_VALUE=`openssl rand -hex 16`\n</code></pre>"},{"location":"1-2/#modificamos-la-variable-blowfish_secret-en-el-archivo-de-configuracion","title":"Modificamos la variable blowfish_secret en el archivo de configuraci\u00f3n","text":"<pre><code>sed -i \"s/\\(\\$cfg\\['blowfish_secret'\\] =\\).*/\\1 '$RANDOM_VALUE';/\" /var/www/html/phpmyadmin/config.inc.php\n</code></pre>"},{"location":"1-2/#modificamos-la-variable-blowfish_secret-en-el-archivo-de-configuracion_1","title":"Modificamos la variable blowfish_secret en el archivo de configuraci\u00f3n","text":"<pre><code>sed -i \"/blowfish_secrets/a \\$cfg\\['TempDir'\\] = '/tmp';\" /var/www/html/phpmytadmin/config.inc.php\n</code></pre>"},{"location":"1-2/#eliminamos-la-base-de-datos-de-php-anterior-si-existe","title":"Eliminamos la base de datos de php anterior si existe","text":"<pre><code>mysql -u root &lt;&lt;&lt; \"DROP DATABASE IF EXISTS phpmyadmin\"\n</code></pre>"},{"location":"1-2/#importamos-el-script-de-creacion-de-base-de-datos-de-phpmyadmin","title":"Importamos el script  de creacion de base de datos de phpmyadmin","text":"<pre><code>mysql -u root &lt; /var/www/html/phpmyadmin/sql/create_tables.sql\n</code></pre>"},{"location":"1-2/#creamos-usuario-phpmyadmin","title":"Creamos usuario phpmyadmin","text":"<pre><code>mysql -u root &lt;&lt;&lt; \"DROP USER IF EXISTS $PMA_USER@'%'\"\nmysql -u root &lt;&lt;&lt; \"CREATE USER $PMA_USER@'%' IDENTIFIED BY '$PMA_PASS'\"\nmysql -u root &lt;&lt;&lt; \"GRANT ALL PRIVILEGES ON $PMA_DB.* TO $PMA_USER@'%'\"\n</code></pre>"},{"location":"about/","title":"About","text":"<p>Soy alumno de 2\u00ba de Asir</p>"}]}